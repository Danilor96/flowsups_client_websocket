generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  id                                                                Int                             @id @default(autoincrement())
  email                                                             String                          @unique
  name                                                              String?
  password                                                          String?
  created_at                                                        DateTime                        @default(now())
  updated_at                                                        DateTime?
  emailVerified                                                     DateTime?
  sessions_expires                                                  DateTime?
  last_name                                                         String?
  img                                                               String?
  mobile_phone                                                      String?                         @unique
  status_id                                                         Int?
  username                                                          String?                         @unique
  ready_for_leads                                                   Boolean                         @default(false)
  round_robin                                                       Boolean                         @default(false)
  round_robin_order                                                 Int?
  default_customer_report_id                                        Int?
  monthly_vehicle_sales_goal                                        Int?
  sales_points_today                                                Int                             @default(0)
  sales_points_today_date                                           DateTime                        @default(now())
  sales_points_total                                                Int                             @default(0)
  daily_points_target                                               Int?
  leadsId                                                           Int?
  appointmentCreatedBy                                              Appointments[]                  @relation("creator")
  appointments                                                      Appointments[]                  @relation("user")
  awaiting_customer                                                 Awaiting_unknow_client[]
  recipient_messages                                                Chat_messages[]                 @relation("recipient")
  sender_messages                                                   Chat_messages[]                 @relation("sender")
  Client_Bulk_sms                                                   Client_Bulk_sms[]
  assigned_client_lead                                              Client_has_lead[]               @relation("client_lead_seller")
  leads                                                             Client_has_lead[]               @relation("lead_created_by")
  Client_sms_Client_sms_replied_to_user_idToUsers                   Client_sms[]                    @relation("Client_sms_replied_to_user_idToUsers")
  Client_sms_Client_sms_sender_user_idToUsers                       Client_sms[]                    @relation("Client_sms_sender_user_idToUsers")
  client_bdc                                                        Clients[]                       @relation("bdc")
  client_finance_manager                                            Clients[]                       @relation("finance_manager")
  client_sales_manager                                              Clients[]                       @relation("sales_manager")
  client_seller                                                     Clients[]                       @relation("seller")
  file_uploader_user                                                Clients_has_files[]             @relation("uploader_user")
  Clients_has_referrer                                              Clients_has_referrer[]
  Comission_info                                                    Comission_info?
  Customer_Report_Customer_Report_owner_user_idToUsers              Customer_Report[]               @relation("Customer_Report_owner_user_idToUsers")
  daily_visit_history_assigned_manager                              Daily_visit_history[]           @relation("daily_visit_history_assigned_manager")
  daily_visit_history_sales_rep                                     Daily_visit_history[]           @relation("daily_visit_history_sales_rep")
  Deal                                                              Deal[]
  email_template                                                    Email_template[]                @relation("user")
  event_creator                                                     Events[]                        @relation("event_creator")
  Leads_Leads_bdc_idToUsers                                         Leads[]                         @relation("Leads_bdc_idToUsers")
  Leads_Leads_finance_manager_idToUsers                             Leads[]                         @relation("Leads_finance_manager_idToUsers")
  Leads_Leads_sales_manager_idToUsers                               Leads[]                         @relation("Leads_sales_manager_idToUsers")
  Leads_Leads_sales_rep_idToUsers                                   Leads[]                         @relation("Leads_sales_rep_idToUsers")
  Monthly_goals                                                     Monthly_goals[]
  notes                                                             Notes[]                         @relation("creator_user")
  users_noti                                                        Notifications[]                 @relation("users_noti")
  Pay_plan                                                          Pay_plan?
  role_creator                                                      Roles[]                         @relation("creator")
  Sales_activity_log                                                Sales_activity_log[]
  sms_template                                                      Sms_template[]                  @relation("user")
  sms_template_variables                                            Sms_template_variables_tagged[]
  System_accesses                                                   System_accesses[]
  task_notes                                                        Task_Notes[]
  TasksAsBdc                                                        Tasks[]                         @relation("assignedBdc")
  TasksAsFinanceManager                                             Tasks[]                         @relation("assignedFinanceManager")
  TasksAsManager                                                    Tasks[]                         @relation("assignedManager")
  TasksAsSeller                                                     Tasks[]                         @relation("assignedSeller")
  assigned_task                                                     Tasks[]                         @relation("assigned")
  completed_task                                                    Tasks[]                         @relation("completed")
  sender_task                                                       Tasks[]                         @relation("creator")
  user_schedule                                                     User_schedule[]
  Customer_Report_Users_default_customer_report_idToCustomer_Report Customer_Report?                @relation("Users_default_customer_report_idToCustomer_Report", fields: [default_customer_report_id], references: [id])
  users_status                                                      User_status?                    @relation("status", fields: [status_id], references: [id])
  user_code                                                         Users_has_codes?
  Users_has_customers                                               Users_has_customers[]
  user_has                                                          Users_has_roles?
  vehicle_delivery_assigned                                         Vehicle_delivery[]              @relation("assigned")
  vehicle_delivery_creator                                          Vehicle_delivery[]              @relation("creator")
  customer_report_permissions                                       customer_report_permissions[]
  other_sales_log                                                   other_sales_log[]
  SellerActivityCounter                                             SellerActivityCounter?
  Client_calls                                                      Client_calls[]                  @relation("Client_callsToUsers")
  sms_sender                                                        Client_sms[]                    @relation("Client_smsToUsers")
  Leads_splitLeads                                                  Leads[]                         @relation("splitLeads")
  Customer_Report_user_favorite_customer_reports                    Customer_Report[]               @relation("user_favorite_customer_reports")
}

model User_schedule {
  id                Int                   @id @default(autoincrement())
  dayweek_id        Int
  from_day_times_id Int
  to_day_times_id   Int
  user_id           Int
  active            Boolean               @default(false)
  dayweek           User_schedule_dayweek @relation(fields: [dayweek_id], references: [id], onDelete: Cascade)
  from_day_time     Day_times             @relation("from", fields: [from_day_times_id], references: [id], onDelete: Cascade)
  to_day_time       Day_times             @relation("to", fields: [to_day_times_id], references: [id], onDelete: Cascade)
  user              Users                 @relation(fields: [user_id], references: [id], onDelete: Cascade)
}

model User_schedule_dayweek {
  id            Int             @id @default(autoincrement())
  day           String
  user_schedule User_schedule[]
}

model User_status {
  id     Int     @id @default(autoincrement())
  status String
  users  Users[] @relation("status")
}

model Users_has_codes {
  id      Int              @id @default(autoincrement())
  user_id Int              @unique
  code_id Int
  code    Activation_codes @relation(fields: [code_id], references: [id])
  user    Users            @relation(fields: [user_id], references: [id])
}

model Activation_codes {
  id                      Int               @id @default(autoincrement())
  code                    String            @unique
  activation_code_expired DateTime
  code_data               Users_has_codes[]
}

model Roles {
  id         Int                    @id @default(autoincrement())
  role       String
  status_id  Int
  created_by Int?
  created_at DateTime?              @default(now())
  creator    Users?                 @relation("creator", fields: [created_by], references: [id])
  status     Role_status            @relation("status", fields: [status_id], references: [id], onDelete: Cascade)
  roles_has  Roles_has_permissions?
  users_has  Users_has_roles[]
}

model Role_status {
  id     Int     @id @default(autoincrement())
  status String
  role   Roles[] @relation("status")
}

model Permissions {
  id         Int    @id @default(autoincrement())
  permission String
}

model Roles_has_permissions {
  id            Int   @id @default(autoincrement())
  role_id       Int   @unique
  permission_id Int[] @default([])
  role          Roles @relation(fields: [role_id], references: [id], onDelete: Cascade)
}

model Users_has_roles {
  id      Int   @id @default(autoincrement())
  role_id Int
  user_id Int   @unique
  role    Roles @relation(fields: [role_id], references: [id], onDelete: Cascade)
  user    Users @relation(fields: [user_id], references: [id], onDelete: Cascade)
}

model Chat_messages_status {
  id     Int    @id @default(autoincrement())
  status String
}

model Chat_messages {
  id                Int      @id @default(autoincrement())
  messages          String
  sent_date         DateTime
  recipient_user_id Int
  sender_user_id    Int
  recipient         Users    @relation("recipient", fields: [recipient_user_id], references: [id])
  sender            Users    @relation("sender", fields: [sender_user_id], references: [id])
}

model Appointments_status {
  id           Int            @id @default(autoincrement())
  status       String
  appointments Appointments[] @relation("appointment_status")
}

model Appointments {
  id                        Int                 @id @default(autoincrement())
  status_id                 Int
  customer_id               Int
  user_id                   Int
  end_date                  DateTime
  start_date                DateTime
  waiting_aprove            Boolean?
  change_reason             String?
  prevented_end_date        DateTime?
  prevented_start_date      DateTime?
  client_accept_appointment Boolean             @default(false)
  created_at                DateTime            @default(now())
  created_by                Int
  last_check                DateTime?
  confirmation_sent         Boolean             @default(false)
  reminder_sent             Boolean             @default(false)
  reminder_time_id          Int?
  creator                   Users               @relation("creator", fields: [created_by], references: [id])
  customers                 Clients             @relation("customer", fields: [customer_id], references: [id], onDelete: Cascade)
  ReminderTime              ReminderTime?       @relation(fields: [reminder_time_id], references: [id])
  appointments_status       Appointments_status @relation("appointment_status", fields: [status_id], references: [id])
  users                     Users               @relation("user", fields: [user_id], references: [id])
  lead_appointment          Client_has_lead[]   @relation("lead_appointment")
  notification              Notifications?      @relation("appointment")
  task                      Tasks[]             @relation("appointment")
}

model Vehicle_make {
  id           Int                      @id @default(autoincrement())
  brand        String                   @unique
  tradein_make Client_vehicle_tradein[] @relation("tradein_make")
  vehicles     Vehicles[]               @relation("vehicle_make")
}

model Vehicle_trim {
  id       Int        @id @default(autoincrement())
  trim     String     @unique
  vehicles Vehicles[] @relation("vehicle_trim")
}

model Vehicle_colors {
  id                 Int                       @id @default(autoincrement())
  color              String
  tradein_ext_color  Client_vehicle_tradein[]  @relation("tradein_ext_color")
  tradein_int_color  Client_vehicle_tradein[]  @relation("tradein_int_color")
  wishlist_ext_color Client_vehicle_wishlist[] @relation("wishlist_ext_color")
  exterior_vehicles  Vehicles[]                @relation("exterior_vehicle_color")
  interior_vehicles  Vehicles[]                @relation("interior_vehicle_color")
}

model Vehicle_models {
  id            Int                      @id @default(autoincrement())
  model         String                   @unique
  tradein_model Client_vehicle_tradein[] @relation("tradein_model")
  vehicles      Vehicles[]               @relation("vehicle_model")
}

model Vehicle_manufacture_years {
  id            Int                       @id @default(autoincrement())
  year          String                    @unique
  tradein_year  Client_vehicle_tradein[]  @relation("tradein_year")
  wishlist_year Client_vehicle_wishlist[] @relation("wishlist_year")
  vehicles      Vehicles[]                @relation("vehicle_manufacture_year")
}

model Vehicle_identification_numbers {
  id          Int                      @id @default(autoincrement())
  vin         String                   @unique
  tradein_vin Client_vehicle_tradein[] @relation("tradein_vin")
  vehicles    Vehicles?
}

model Vehicle_body_types {
  id                 Int                       @id @default(autoincrement())
  type               String                    @unique
  wishlist_body_type Client_vehicle_wishlist[] @relation("wishlist_body_type")
  vehicles           Vehicles[]                @relation("body_type")
}

model Vehicle_transmissions {
  id           Int        @id @default(autoincrement())
  transmission String
  vehicles     Vehicles[] @relation("vehicle_transmission")
}

model Vehicle_prices {
  id             Int                       @id @default(autoincrement())
  price          String
  wishlist_price Client_vehicle_wishlist[] @relation("wishlist_price")
  vehicles       Vehicles[]                @relation("vehicle_price")
}

model Vehicle_fuel_tank_types {
  id       Int        @id @default(autoincrement())
  type     String
  vehicles Vehicles[] @relation("vehicle_fuel_tank_type")
}

model Vehicle_conditions {
  id        Int        @id @default(autoincrement())
  condition String
  vehicles  Vehicles[] @relation("vehicle_condition")
}

model Vehicle_mileages {
  id               Int                       @id @default(autoincrement())
  mileage          String
  milleage_type_id Int
  tradein_mileage  Client_vehicle_tradein[]  @relation("tradein_mileage")
  wishlist_mileage Client_vehicle_wishlist[] @relation("wishlist_mileage")
  milleage_type    Vehicle_milleage_type     @relation("milleage_type", fields: [milleage_type_id], references: [id], onDelete: Cascade)
  vehicles         Vehicles[]                @relation("vehicle_mileage")
}

model Vehicle_status {
  id       Int        @id @default(autoincrement())
  status   String
  vehicles Vehicles[] @relation("vehicle_status")
}

model Vehicle_types {
  id               Int                      @id @default(autoincrement())
  type             String
  tradein_veh_type Client_vehicle_tradein[] @relation("tradein_veh_type")
  vehicles         Vehicles[]               @relation("vehicle_type")
}

model Vehicle_license_plates {
  id       Int        @id @default(autoincrement())
  plate    String
  vehicles Vehicles[] @relation("vehicle_plate")
}

model Vehicle_engine {
  id       Int        @id @default(autoincrement())
  engine   String     @unique
  vehicles Vehicles[] @relation("vehicle_engine")
}

model Vehicle_drive_train {
  id          Int        @id @default(autoincrement())
  drive_train String
  vehicles    Vehicles[] @relation("vehicle_drive_train")
}

model Vehicle_milleage_type {
  id               Int                @id @default(autoincrement())
  type             String
  vehicle_milleage Vehicle_mileages[] @relation("milleage_type")
}

model Vehicle_image {
  id       Int        @id @default(autoincrement())
  path     String
  vehicles Vehicles[] @relation("vehicle_image")
}

model Vehicle_body_type {
  id   Int    @id @default(autoincrement())
  type String @unique
}

model Vehicles {
  id                             Int                            @id @default(autoincrement())
  model_id                       Int
  manufacture_year_id            Int?
  identification_id              Int                            @unique
  transmission_id                Int?
  price_id                       Int?
  fuel_tank_type_id              Int?
  condition_id                   Int?
  mileage_id                     Int?
  entry_stock                    DateTime?
  vehicle_type_id                Int?
  vehicle_status_id              Int?
  vehicle_plate_id               Int?
  drive_train_id                 Int?
  engine_id                      Int?
  exterior_color_id              Int?
  interior_color_id              Int?
  make_id                        Int
  odometer_make_id               Int?
  trim_id                        Int?
  image_id                       Int?
  cylinder                       String?
  doors                          String?
  gvw                            String?
  hwy                            String?
  motor                          String?
  mpg_city                       String?
  weight                         String?
  body_type_id                   Int?
  odometer                       String?
  key_info_id                    Int?
  title_license_id               Int?
  vehicle_purchase_info_id       Int?
  vehicle_general_info_id        Int?
  customer_status                String?
  stock_no                       String                         @unique
  client_wishlist_vehicle        Client_vehicle_wishlist[]      @relation("wishlist_vehicle")
  interested_vehicle             Clients[]                      @relation("interested_vehicle")
  daily_visit_history            Daily_visit_history[]
  deposit_vehicle                Deposits[]                     @relation("client_deposit_vehicle")
  Leads                          Leads[]
  Tasks                          Tasks[]
  vehicle_delivery               Vehicle_delivery[]
  body_type                      Vehicle_body_types?            @relation("body_type", fields: [body_type_id], references: [id], onDelete: Cascade)
  vehicle_conditions             Vehicle_conditions?            @relation("vehicle_condition", fields: [condition_id], references: [id])
  vehicle_drive_train            Vehicle_drive_train?           @relation("vehicle_drive_train", fields: [drive_train_id], references: [id], onDelete: Cascade)
  vehicle_engine                 Vehicle_engine?                @relation("vehicle_engine", fields: [engine_id], references: [id], onDelete: Cascade)
  exterior_vehicle_colors        Vehicle_colors?                @relation("exterior_vehicle_color", fields: [exterior_color_id], references: [id])
  vehicle_fuel_tank_types        Vehicle_fuel_tank_types?       @relation("vehicle_fuel_tank_type", fields: [fuel_tank_type_id], references: [id])
  vehicle_identification_numbers Vehicle_identification_numbers @relation(fields: [identification_id], references: [id], onDelete: Cascade)
  vehicle_image                  Vehicle_image?                 @relation("vehicle_image", fields: [image_id], references: [id])
  interior_vehicle_colors        Vehicle_colors?                @relation("interior_vehicle_color", fields: [interior_color_id], references: [id])
  key_info                       Vehicle_details_key_info?      @relation("key_info", fields: [key_info_id], references: [id])
  vehicle_brands                 Vehicle_make                   @relation("vehicle_make", fields: [make_id], references: [id])
  vehicle_manufacture_years      Vehicle_manufacture_years?     @relation("vehicle_manufacture_year", fields: [manufacture_year_id], references: [id])
  vehicle_mileages               Vehicle_mileages?              @relation("vehicle_mileage", fields: [mileage_id], references: [id])
  vehicle_models                 Vehicle_models                 @relation("vehicle_model", fields: [model_id], references: [id])
  vehicle_prices                 Vehicle_prices?                @relation("vehicle_price", fields: [price_id], references: [id])
  title_license                  Vehicle_details_title_license? @relation("title_license", fields: [title_license_id], references: [id])
  vehicle_transmissions          Vehicle_transmissions?         @relation("vehicle_transmission", fields: [transmission_id], references: [id])
  vehicle_trim                   Vehicle_trim?                  @relation("vehicle_trim", fields: [trim_id], references: [id])
  general_info                   General_info?                  @relation("general_info", fields: [vehicle_general_info_id], references: [id])
  vehicle_license_plate          Vehicle_license_plates?        @relation("vehicle_plate", fields: [vehicle_plate_id], references: [id])
  purchase_info                  Vehicle_details_purchase_info? @relation("purchase_info", fields: [vehicle_purchase_info_id], references: [id])
  vehicle_status                 Vehicle_status?                @relation("vehicle_status", fields: [vehicle_status_id], references: [id])
  vehicle_type                   Vehicle_types?                 @relation("vehicle_type", fields: [vehicle_type_id], references: [id])
}

model Tasks {
  id                          Int           @id @default(autoincrement())
  title                       String
  description                 String
  assigned_to                 Int?
  created_by                  Int?
  created_at                  DateTime      @default(now())
  status                      Int
  finished_at                 DateTime?
  updated_at                  DateTime?
  manager_task                Boolean       @default(false)
  customer_id                 Int?
  deadline                    DateTime
  completed_by                Int?
  assigned_to_all_managers    Boolean?
  appointment_id              Int?
  assigned_bdc_id             Int?
  assigned_finance_manager_id Int?
  assigned_manager_id         Int?
  assigned_seller_id          Int?
  reminder_sent               Boolean       @default(false)
  reminder_time_id            Int?
  interested_vehicle_id       Int?
  related_task_id             Int?
  is_funding_task             Boolean?      @default(false)
  notes                       Task_Notes[]
  appointment                 Appointments? @relation("appointment", fields: [appointment_id], references: [id])
  assigned_bdc                Users?        @relation("assignedBdc", fields: [assigned_bdc_id], references: [id])
  assigned_finance_manager    Users?        @relation("assignedFinanceManager", fields: [assigned_finance_manager_id], references: [id])
  assigned_manager            Users?        @relation("assignedManager", fields: [assigned_manager_id], references: [id])
  assigned_seller             Users?        @relation("assignedSeller", fields: [assigned_seller_id], references: [id])
  assigned                    Users?        @relation("assigned", fields: [assigned_to], references: [id])
  completed                   Users?        @relation("completed", fields: [completed_by], references: [id])
  creator                     Users?        @relation("creator", fields: [created_by], references: [id], onDelete: Cascade)
  customer                    Clients?      @relation("customer_task", fields: [customer_id], references: [id])
  Vehicles                    Vehicles?     @relation(fields: [interested_vehicle_id], references: [id])
  ReminderTime                ReminderTime? @relation(fields: [reminder_time_id], references: [id])
  task_status                 Task_status   @relation("task_status", fields: [status], references: [id], onDelete: Cascade)
}

model Task_status {
  id     Int     @id @default(autoincrement())
  status String
  tasks  Tasks[] @relation("task_status")
}

model Lead_types {
  id                  Int                   @id @default(autoincrement())
  type                String
  client_lead_type    Clients[]             @relation("lead_type")
  daily_visit_history Daily_visit_history[]
}

model Lead_sources {
  id                 Int              @id @default(autoincrement())
  source             String
  client_lead_source Clients[]        @relation("lead_source")
  Marketing_cost     Marketing_cost[]
}

model Contact_methods {
  id                    Int       @id @default(autoincrement())
  method                String
  client_contact_method Clients[] @relation("contact_method")
}

model Languages {
  id              Int       @id @default(autoincrement())
  language        String
  client_language Clients[] @relation("client_language")
}

model Files {
  id           Int                 @id @default(autoincrement())
  file         String
  stipulation  String
  uploaded_by  Int
  uploaded_on  DateTime
  path         String
  content_type String
  client_file  Clients_has_files[] @relation("file")
}

model Clients_has_files {
  id               Int     @id @default(autoincrement())
  file_id          Int
  client_id        Int
  uploader_user_id Int
  client           Clients @relation("client", fields: [client_id], references: [id], onDelete: Cascade)
  file             Files   @relation("file", fields: [file_id], references: [id], onDelete: Cascade)
  uploader_user    Users   @relation("uploader_user", fields: [uploader_user_id], references: [id], onDelete: Cascade)
}

model Inquiry_types {
  id             Int       @id @default(autoincrement())
  type           String
  client_inquiry Clients[] @relation("inquiry_type")
}

model Genders {
  id            Int          @id @default(autoincrement())
  gender        String
  client_gender Clients[]    @relation("gender")
  credit_app    Credit_app[] @relation("cresit_app_gender")
}

model Client_types {
  id          Int       @id @default(autoincrement())
  type        String
  client_type Clients[] @relation("client_type")
}

model Notes {
  id                  Int                   @id @default(autoincrement())
  note                String
  created_at          DateTime
  created_by_id       Int
  from_id             Int?
  client_id           Int
  is_call_note        Boolean?              @default(false)
  is_sms_note         Boolean?              @default(false)
  Client_calls        Client_calls[]
  client_lead_note    Client_has_lead[]     @relation("assigned_note")
  Daily_visit_history Daily_visit_history[]
  deposit             Deposits[]            @relation("deposit_note")
  client_note         Clients               @relation("note", fields: [client_id], references: [id], onDelete: Cascade)
  created_by          Users                 @relation("creator_user", fields: [created_by_id], references: [id], onDelete: Cascade)
  from                Client_note_from?     @relation("note_from", fields: [from_id], references: [id])
}

model Ad_id {
  id    Int       @id @default(autoincrement())
  ad    String
  ad_id Clients[] @relation("ad_id")
}

model Client_has_cobuyer {
  id                Int                         @id @default(autoincrement())
  relationship_id   Int
  buyer_client_id   Int                         @unique
  cobuyer_client_id Int
  buyer             Clients                     @relation("buyer_client", fields: [buyer_client_id], references: [id], onDelete: Cascade)
  cobuyer           Clients                     @relation("cobuyer_client", fields: [cobuyer_client_id], references: [id], onDelete: Cascade)
  relationship      Cobuyer_client_relationship @relation("relationship", fields: [relationship_id], references: [id])
  Leads             Leads[]
}

model Cobuyer_client_relationship {
  id           Int                  @id @default(autoincrement())
  relationship String
  cobuyer      Client_has_cobuyer[] @relation("relationship")
}

model Client_status {
  id                  Int                   @id @default(autoincrement())
  status              String
  Automatic_emails    Automatic_emails[]
  client_status       Clients[]             @relation("client_status")
  customer_settings   Customer_settings[]   @relation("customer")
  daily_visit_history Daily_visit_history[]
  Leads               Leads[]
}

model States {
  id                         Int                       @id @default(autoincrement())
  state                      String
  state_code                 String                    @default("")
  Address                    Address[]
  client_address_state       Client_address[]          @relation("client_address_state")
  credit_app_address_current Credit_app_address[]      @relation("currentState")
  credit_app_address_mailing Credit_app_address[]      @relation("mailingState")
  prev_state                 Credit_app_address_prev[]
}

model County {
  id                    Int              @id @default(autoincrement())
  county                String
  client_address_county Client_address[] @relation("client_address_county")
}

model Client_address {
  id                        Int       @id @default(autoincrement())
  city                      String
  street                    String
  state_id                  Int
  county_id                 Int?
  zip                       String?
  current_data_from_webhook Boolean   @default(false)
  county                    County?   @relation("client_address_county", fields: [county_id], references: [id])
  state                     States    @relation("client_address_state", fields: [state_id], references: [id])
  client_address            Clients[] @relation("client_address")
}

model Clients_has_referrer {
  id                 Int      @id @default(autoincrement())
  client_buyer_id    Int      @unique
  client_referrer_id Int
  amount             Decimal?
  created_at         DateTime @default(now())
  created_by         Int
  buyer              Clients  @relation("buyer_client_referrer", fields: [client_buyer_id], references: [id], onDelete: Cascade)
  referrer           Clients  @relation("referrer_client", fields: [client_referrer_id], references: [id], onDelete: Cascade)
  Users              Users    @relation(fields: [created_by], references: [id], onDelete: Cascade)
  Leads              Leads[]
}

model Client_note_from {
  id         Int     @id @default(autoincrement())
  from       String
  notes_from Notes[] @relation("note_from")
}

model Events {
  id            Int      @id @default(autoincrement())
  description   String
  updated_at    DateTime
  updated_by    Int?
  client_id     Int?
  event_client  Clients? @relation("event_client", fields: [client_id], references: [id], onDelete: Cascade)
  event_creator Users?   @relation("event_creator", fields: [updated_by], references: [id], onDelete: Cascade)
}

model Contact_time {
  id              Int       @id @default(autoincrement())
  time            String
  contact_clients Clients[] @relation("contact_time")
}

model Clients {
  id                                Int                              @id @default(autoincrement())
  current_address                   String
  previous_address                  String?
  mailing_address                   String?
  current_job                       String?
  previous_job                      String?
  other_income                      String?
  reference                         String?
  cash_down                         String?
  duplicate                         String?
  contact_method_id                 Int?
  lead_source_id                    Int?
  lead_type_id                      Int?
  inquiry_type_id                   Int?
  born_date                         DateTime?
  created_at                        DateTime                         @default(now())
  email                             String?                          @unique
  gender_id                         Int?
  home_phone                        String?
  mobile_phone                      String?                          @unique
  seller_id                         Int?
  social_security                   String
  work_phone                        String?
  name_lastname                     String?
  client_type_id                    Int?
  intereseted_vehicle_id            Int?
  ad_id                             Int?
  client_status_id                  Int?
  cobuyer                           Boolean?
  client_messages_id                Int?
  first_name                        String
  last_name                         String
  middle_initials                   String?
  nickname                          String?
  salutation                        String?
  suffix                            String?
  client_address_id                 Int
  client_language_id                Int?
  deleted                           Boolean?                         @default(false)
  lead_temperature_id               Int?
  referrer_id                       Int?
  contact_time_id                   Int?
  last_activity                     DateTime?
  credit_app_list_status_id         Int?
  consent_sent                      Boolean?                         @default(false)
  born_date_hash                    String?
  consent_approved                  Boolean?                         @default(false)
  country_phone_code_id             Int?
  lost_date                         DateTime?
  bdc_id                            Int?
  finance_manager_id                Int?
  sales_manager_id                  Int?
  appointment_confirmation_sms_sent Boolean?                         @default(false)
  consent_to_sent_sms               Boolean?                         @default(false)
  credit_app_forms_completed        Boolean?                         @default(false)
  client_status_changed_at          DateTime?
  home_default                      Boolean                          @default(false)
  mobile_default                    Boolean                          @default(true)
  work_default                      Boolean                          @default(false)
  current_data_from_webhook         Boolean                          @default(false)
  funding_list_status_id            Int?
  client_funding_returned_at        DateTime?
  appointment                       Appointments[]                   @relation("customer")
  calls                             Client_calls[]                   @relation("client_call")
  buyer_client                      Client_has_cobuyer?              @relation("buyer_client")
  cobuyer_client                    Client_has_cobuyer[]             @relation("cobuyer_client")
  client_lead                       Client_has_lead[]                @relation("cleant_lead")
  message                           Client_sms[]                     @relation("client_message")
  tradein_client                    Client_vehicle_tradein[]         @relation("tradein_vehicle")
  Client_vehicle_wishlist           Client_vehicle_wishlist[]
  ad                                Ad_id?                           @relation("ad_id", fields: [ad_id], references: [id])
  bdc                               Users?                           @relation("bdc", fields: [bdc_id], references: [id])
  client_address                    Client_address                   @relation("client_address", fields: [client_address_id], references: [id])
  language                          Languages?                       @relation("client_language", fields: [client_language_id], references: [id])
  client_status                     Client_status?                   @relation("client_status", fields: [client_status_id], references: [id])
  client_type                       Client_types?                    @relation("client_type", fields: [client_type_id], references: [id])
  contact_method                    Contact_methods?                 @relation("contact_method", fields: [contact_method_id], references: [id])
  contact_time                      Contact_time?                    @relation("contact_time", fields: [contact_time_id], references: [id])
  country_code                      Country_phone_code?              @relation("country_phone_code", fields: [country_phone_code_id], references: [id])
  credit_app_list_status            Credit_app_list_status?          @relation("credit_app_list_status", fields: [credit_app_list_status_id], references: [id])
  finance_manager                   Users?                           @relation("finance_manager", fields: [finance_manager_id], references: [id])
  Funding_list_status               Funding_list_status?             @relation(fields: [funding_list_status_id], references: [id])
  gender                            Genders?                         @relation("gender", fields: [gender_id], references: [id])
  inquiry_type                      Inquiry_types?                   @relation("inquiry_type", fields: [inquiry_type_id], references: [id])
  interested_vehicle                Vehicles?                        @relation("interested_vehicle", fields: [intereseted_vehicle_id], references: [id])
  lead_source                       Lead_sources?                    @relation("lead_source", fields: [lead_source_id], references: [id])
  client_lead_temperature           Lead_temperature?                @relation("lead_temperature", fields: [lead_temperature_id], references: [id])
  lead_type                         Lead_types?                      @relation("lead_type", fields: [lead_type_id], references: [id])
  sales_manager                     Users?                           @relation("sales_manager", fields: [sales_manager_id], references: [id])
  seller                            Users?                           @relation("seller", fields: [seller_id], references: [id])
  file                              Clients_has_files[]              @relation("client")
  buyer_referrer                    Clients_has_referrer?            @relation("buyer_client_referrer")
  referrer_client                   Clients_has_referrer[]           @relation("referrer_client")
  consent_code                      Consent_code?                    @relation("customer")
  credit_app                        Credit_app?                      @relation("client_credit_app")
  credit_app_address                Credit_app_address[]             @relation("credit_app_address")
  Credit_app_code                   Credit_app_code?
  Credit_app_navigation             Credit_app_navigation?
  credit_app_other_income           Credit_app_other_income[]
  credit_app_reference              Credit_app_reference[]
  client_employment                 Customer_employment[]            @relation("customer")
  daily_visit_history               Daily_visit_history[]
  deal                              Deal[]
  deposit_client                    Deposits[]                       @relation("client_deposit")
  event_client                      Events[]                         @relation("event_client")
  Leads                             Leads[]
  note                              Notes[]                          @relation("note")
  customers_noti                    Notifications[]                  @relation("customers_noti")
  customer_task                     Tasks[]                          @relation("customer_task")
  Terms_and_conditions_processed    Terms_and_conditions_processed[]
  Users_has_customers               Users_has_customers[]
  vehicle_delivery                  Vehicle_delivery[]
  conversations                     conversations?
}

model Credit_app_list_status {
  id                     Int       @id @default(autoincrement())
  status                 String
  credit_app_list_status Clients[] @relation("credit_app_list_status")
  Leads                  Leads[]
}

model Client_sms {
  id                                         Int                      @id @default(autoincrement())
  message                                    String
  date_sent                                  DateTime                 @default(now())
  sent_by_user                               Boolean
  client_id                                  Int?
  status_id                                  Int
  fileAttachment                             Json?
  read_by                                    Int[]                    @default([])
  delivered                                  Boolean                  @default(false)
  message_sid                                String?                  @unique
  sent                                       Boolean                  @default(false)
  client_phone_number                        String                   @default("")
  is_consent_message                         Boolean                  @default(false)
  manual_sent                                Boolean                  @default(true)
  failed                                     Boolean                  @default(false)
  is_reply_to_user                           Boolean                  @default(false)
  replied_to_user_id                         Int?
  sender_user_id                             Int?
  has_customer_reply                         Boolean                  @default(false)
  client_message                             Clients?                 @relation("client_message", fields: [client_id], references: [id])
  Users_Client_sms_replied_to_user_idToUsers Users?                   @relation("Client_sms_replied_to_user_idToUsers", fields: [replied_to_user_id], references: [id])
  Users_Client_sms_sender_user_idToUsers     Users?                   @relation("Client_sms_sender_user_idToUsers", fields: [sender_user_id], references: [id])
  status                                     Sms_status               @relation("status", fields: [status_id], references: [id], onDelete: Cascade)
  unregistered_customer                      Awaiting_unknow_client[] @relation("Awaiting_unknow_clientToClient_sms")
  user                                       Users[]                  @relation("Client_smsToUsers")
}

model Sms_status {
  id     Int          @id @default(autoincrement())
  status String
  sms    Client_sms[] @relation("status")
}

model Client_calls {
  id                    Int            @id @default(autoincrement())
  client_id             Int?
  call_date             DateTime
  call_status_id        Int
  call_direction_id     Int
  call_duration         String
  call_sid              String?        @unique
  unknow_call_number    String?
  phone_number          String?
  answered_by_mobile    Boolean        @default(false)
  answered_by_web       Boolean        @default(false)
  user_id               Int[]          @default([])
  usersAssignedCallSid  Json?
  inboundCall           Boolean        @default(true)
  note_id               Int?
  followUpDate          DateTime?
  isBlockedForAnswering Boolean        @default(false)
  call_direction        Call_direction @relation(fields: [call_direction_id], references: [id], onDelete: Cascade)
  call_status           Call_statuses  @relation("status", fields: [call_status_id], references: [id])
  client_call           Clients?       @relation("client_call", fields: [client_id], references: [id])
  Notes                 Notes?         @relation(fields: [note_id], references: [id])
  Users                 Users[]        @relation("Client_callsToUsers")
}

model Suspension {
  id                    Int      @id @default(autoincrement())
  mobile_phone          String
  start_suspension_date DateTime
  end_suspension_date   DateTime
}

model Call_statuses {
  id     Int            @id @default(autoincrement())
  status String
  calls  Client_calls[] @relation("status")
}

model Call_direction {
  id           Int            @id @default(autoincrement())
  direction    String
  client_calls Client_calls[]
}

model Client_detail_leads {
  id          Int               @id @default(autoincrement())
  lead        String
  client_lead Client_has_lead[] @relation("client_lead")
}

model Lead_temperature {
  id               Int       @id @default(autoincrement())
  temperature      String
  lead_temperature Clients[] @relation("lead_temperature")
  Leads            Leads[]
}

model Deposit_methods {
  id      Int        @id @default(autoincrement())
  method  String
  deposit Deposits[] @relation("client_method")
}

model Deposits {
  id                  Int             @id @default(autoincrement())
  client_id           Int
  vehicle_id          Int?
  amount              String
  processing_fee      String?
  total               String
  method_id           Int
  reference           String?
  deposit_date        DateTime
  good_through_date   DateTime?
  non_refundable      Boolean?
  note_id             Int?
  scanned_deposit_url String?
  client              Clients         @relation("client_deposit", fields: [client_id], references: [id], onDelete: Cascade)
  method              Deposit_methods @relation("client_method", fields: [method_id], references: [id], onDelete: Cascade)
  note                Notes?          @relation("deposit_note", fields: [note_id], references: [id])
  vehicle             Vehicles?       @relation("client_deposit_vehicle", fields: [vehicle_id], references: [id])
}

model Client_has_lead {
  id                   Int                  @id @default(autoincrement())
  lead_id              Int?
  follow_up_date       DateTime?
  assigned_to_id       Int?
  note_id              Int?
  appointment_id       Int?
  incoming             Boolean?
  outcoming            Boolean?
  dealdate             DateTime?
  client_id            Int
  lost_reason_id       Int?
  created_by_id        Int
  created_at           DateTime
  status_id            Int
  reminder_time        Int?
  appointment_assigned Appointments?        @relation("lead_appointment", fields: [appointment_id], references: [id])
  assigned_seller      Users?               @relation("client_lead_seller", fields: [assigned_to_id], references: [id])
  client_lead          Clients              @relation("cleant_lead", fields: [client_id], references: [id], onDelete: Cascade)
  lead_created_by      Users                @relation("lead_created_by", fields: [created_by_id], references: [id])
  client_deal          Client_detail_leads? @relation("client_lead", fields: [lead_id], references: [id])
  lost_reason          Lost_reason?         @relation("lost_reason", fields: [lost_reason_id], references: [id])
  note_assigned        Notes?               @relation("assigned_note", fields: [note_id], references: [id])
  ReminderTime         ReminderTime?        @relation(fields: [reminder_time], references: [id])
  lead_status          Lead_status          @relation("lead_status", fields: [status_id], references: [id], onDelete: Cascade)
}

model Lead_status {
  id     Int               @id @default(autoincrement())
  status String
  leads  Client_has_lead[] @relation("lead_status")
}

model Lost_reason {
  id               Int               @id @default(autoincrement())
  reason           String
  lead_lost_reason Client_has_lead[] @relation("lost_reason")
}

model Client_vehicle_wishlist {
  id                Int                       @id @default(autoincrement())
  vehicle_id        Int
  max_mileage_id    Int
  max_price_id      Int
  min_year_id       Int
  exterior_color_id Int
  body_type_id      Int
  client_id         Int
  body_type         Vehicle_body_types        @relation("wishlist_body_type", fields: [body_type_id], references: [id], onDelete: Cascade)
  Clients           Clients                   @relation(fields: [client_id], references: [id], onDelete: Cascade)
  ext_color         Vehicle_colors            @relation("wishlist_ext_color", fields: [exterior_color_id], references: [id], onDelete: Cascade)
  mileage           Vehicle_mileages          @relation("wishlist_mileage", fields: [max_mileage_id], references: [id], onDelete: Cascade)
  price             Vehicle_prices            @relation("wishlist_price", fields: [max_price_id], references: [id], onDelete: Cascade)
  year              Vehicle_manufacture_years @relation("wishlist_year", fields: [min_year_id], references: [id], onDelete: Cascade)
  vehicle           Vehicles                  @relation("wishlist_vehicle", fields: [vehicle_id], references: [id], onDelete: Cascade)
  Leads             Leads[]
}

model Client_vehicle_tradein {
  id                            Int                            @id @default(autoincrement())
  vin_id                        Int
  year_id                       Int
  make_id                       Int
  model_id                      Int
  trim_id                       Int
  mileage_id                    Int
  int_color_id                  Int
  ext_color_id                  Int
  book_value                    String?
  trade_allowance               String?
  trade_payoff                  String?
  comment_id                    Int?
  client_id                     Int
  vehicle_type_id               Int
  title_license_id              Int?
  client                        Clients                        @relation("tradein_vehicle", fields: [client_id], references: [id], onDelete: Cascade)
  comment                       Vehicle_tradein_comments?      @relation("tradein_comment", fields: [comment_id], references: [id])
  ext_color                     Vehicle_colors                 @relation("tradein_ext_color", fields: [ext_color_id], references: [id], onDelete: Cascade)
  int_color                     Vehicle_colors                 @relation("tradein_int_color", fields: [int_color_id], references: [id], onDelete: Cascade)
  make                          Vehicle_make                   @relation("tradein_make", fields: [make_id], references: [id], onDelete: Cascade)
  mileage                       Vehicle_mileages               @relation("tradein_mileage", fields: [mileage_id], references: [id], onDelete: Cascade)
  model                         Vehicle_models                 @relation("tradein_model", fields: [model_id], references: [id], onDelete: Cascade)
  Vehicle_details_title_license Vehicle_details_title_license? @relation(fields: [title_license_id], references: [id])
  trim                          Vehicle_trims                  @relation("tradein_trim", fields: [trim_id], references: [id], onDelete: Cascade)
  vehicle_type                  Vehicle_types                  @relation("tradein_veh_type", fields: [vehicle_type_id], references: [id], onDelete: Cascade)
  vin                           Vehicle_identification_numbers @relation("tradein_vin", fields: [vin_id], references: [id], onDelete: Cascade)
  year                          Vehicle_manufacture_years      @relation("tradein_year", fields: [year_id], references: [id], onDelete: Cascade)
  Leads                         Leads[]
}

model Vehicle_tradein_comments {
  id              Int                      @id @default(autoincrement())
  comment         String
  tradein_comment Client_vehicle_tradein[] @relation("tradein_comment")
}

model Vehicle_trims {
  id           Int                      @id @default(autoincrement())
  trim         String
  tradein_trim Client_vehicle_tradein[] @relation("tradein_trim")
}

model Credit_app {
  id                   Int                   @id @default(autoincrement())
  ssn                  String?
  date_of_birth        DateTime?
  id_type_id           Int?
  id_state_id          Int?
  id_number            String?
  id_issue_date        DateTime?
  id_expiration_date   DateTime?
  cash_down            String?
  send_automated_sms   Boolean?
  client_id            Int                   @unique
  gender_id            Int?
  created_at           DateTime              @default(now())
  no_id                Boolean?
  client               Clients               @relation("client_credit_app", fields: [client_id], references: [id], onDelete: Cascade)
  gender               Genders?              @relation("cresit_app_gender", fields: [gender_id], references: [id])
  id_state             Client_id_state?      @relation("id_state", fields: [id_state_id], references: [id])
  id_type              Client_id_type?       @relation("id_type", fields: [id_type_id], references: [id])
  Credit_app_address   Credit_app_address?
  Credit_app_reference Credit_app_reference?
  Customer_employment  Customer_employment?
}

model Credit_app_address {
  id                      Int                        @id @default(autoincrement())
  current_address         String?
  mailing_address         String?
  client_id               Int
  current_address_type_id Int?
  current_month_id        Int?
  current_rent_mort       String?
  current_year            String?
  current_city            String?
  current_county          String?
  current_street          String?
  current_zip             String?
  mailing_city            String?
  mailing_county          String?
  mailing_street          String?
  mailing_zip             String?
  current_state_id        Int?
  mailing_state_id        Int?
  mailing_same_as_current Boolean?
  credit_app_id           Int?                       @unique
  client                  Clients                    @relation("credit_app_address", fields: [client_id], references: [id], onDelete: Cascade)
  Credit_app              Credit_app?                @relation(fields: [credit_app_id], references: [id])
  current_type            Credit_app_address_type?   @relation("current_type", fields: [current_address_type_id], references: [id])
  current_month           Credit_app_address_months? @relation("current_month", fields: [current_month_id], references: [id])
  current_state           States?                    @relation("currentState", fields: [current_state_id], references: [id])
  mailing_state           States?                    @relation("mailingState", fields: [mailing_state_id], references: [id])
  prev_address            Credit_app_address_prev[]
}

model Credit_app_address_prev {
  id                    Int                        @id @default(autoincrement())
  credit_app_address_id Int
  prev_address          String?
  prev_street           String?
  prev_city             String?
  prev_zip              String?
  prev_county           String?
  prev_year             String?
  prev_month_id         Int?
  prev_address_type_id  Int?
  prev_rent_mort        String?
  prev_state_id         Int?
  credit_app_address    Credit_app_address         @relation(fields: [credit_app_address_id], references: [id], onDelete: Cascade)
  prev_type             Credit_app_address_type?   @relation("prev_type", fields: [prev_address_type_id], references: [id])
  prev_month            Credit_app_address_months? @relation("prev_month", fields: [prev_month_id], references: [id])
  prev_state            States?                    @relation(fields: [prev_state_id], references: [id])
}

model Credit_app_address_months {
  id                         Int                       @id @default(autoincrement())
  month                      String
  current_credit_app_address Credit_app_address[]      @relation("current_month")
  prev_credit_app_address    Credit_app_address_prev[] @relation("prev_month")
  employment_month           Customer_employment[]     @relation("employment_months")
}

model Credit_app_address_type {
  id                         Int                       @id @default(autoincrement())
  type                       String
  current_credit_app_address Credit_app_address[]      @relation("current_type")
  prev_credit_app_address    Credit_app_address_prev[] @relation("prev_type")
}

model Client_id_type {
  id         Int          @id @default(autoincrement())
  id_type    String
  credit_app Credit_app[] @relation("id_type")
}

model Client_id_state {
  id                            Int                             @id @default(autoincrement())
  id_state                      String
  credit_app                    Credit_app[]                    @relation("id_state")
  vehicle_details_license_state Vehicle_details_title_license[] @relation("license_state")
  vehicle_details_title_state   Vehicle_details_title_license[] @relation("title_state")
}

model Customer_employment {
  id                          Int                           @id @default(autoincrement())
  client_id                   Int
  employment_status_id        Int?
  current_employer_name       String?
  previous_employer_name      String?
  occupation_id               Int?
  year                        String?
  month_id                    Int?
  income_type_id              Int?
  montly_income               String?
  hourlyWage                  String?
  yearToDate                  String?
  credit_app_id               Int?                          @unique
  client                      Clients                       @relation("customer", fields: [client_id], references: [id], onDelete: Cascade)
  Credit_app                  Credit_app?                   @relation(fields: [credit_app_id], references: [id])
  employment_status           Employment_statuses?          @relation("employment_status", fields: [employment_status_id], references: [id], onDelete: Cascade)
  income_type                 Customer_income_type?         @relation("income_type", fields: [income_type_id], references: [id], onDelete: Cascade)
  month                       Credit_app_address_months?    @relation("employment_months", fields: [month_id], references: [id], onDelete: Cascade)
  occupation                  Customer_occupation?          @relation("customer_occupation", fields: [occupation_id], references: [id], onDelete: Cascade)
  customer_employment_address Customer_employment_address[]
}

model Customer_income_type {
  id                Int                   @id @default(autoincrement())
  income            String
  employment_income Customer_employment[] @relation("income_type")
}

model Customer_occupation {
  id         Int                   @id @default(autoincrement())
  occupation String
  customer   Customer_employment[] @relation("customer_occupation")
}

model Customer_employment_address {
  id                     Int                 @id @default(autoincrement())
  current_address        String?
  current_phone_number   String?
  previous_phone_number  String?
  previous_address       String?
  customer_employment_id Int
  customer_employment    Customer_employment @relation(fields: [customer_employment_id], references: [id], onDelete: Cascade)
}

model Employment_statuses {
  id                Int                   @id @default(autoincrement())
  status            String
  employment_status Customer_employment[] @relation("employment_status")
}

model Day_times {
  id                          Int             @id @default(autoincrement())
  time                        String
  from_day_time_user_schedule User_schedule[] @relation("from")
  to_day_time_user_schedule   User_schedule[] @relation("to")
}

model Notifications {
  id                        Int                     @id @default(autoincrement())
  user_id                   Int?
  customer_id               Int?
  message                   String
  type_id                   Int
  created_at                DateTime                @default(now())
  is_read                   Boolean                 @default(false)
  is_deleted                Boolean                 @default(false)
  notification_for_managers Boolean?
  appointment_id            Int?                    @unique
  unregistered_customer_id  Int?
  event_type_id             Int?
  appointment               Appointments?           @relation("appointment", fields: [appointment_id], references: [id])
  customers                 Clients?                @relation("customers_noti", fields: [customer_id], references: [id])
  Events_types              Events_types?           @relation(fields: [event_type_id], references: [id])
  type                      Type_notification       @relation("noti_type", fields: [type_id], references: [id], onDelete: Cascade)
  unregistered_customer     Awaiting_unknow_client? @relation(fields: [unregistered_customer_id], references: [id], onDelete: Cascade)
  user                      Users?                  @relation("users_noti", fields: [user_id], references: [id])
}

model Type_notification {
  id            Int             @id @default(autoincrement())
  type          String
  notifications Notifications[] @relation("noti_type")
}

model Business {
  id                                  Int                      @id @default(autoincrement())
  name                                String
  image                               String
  county                              String?
  county_code                         String?
  ein_number                          String
  email                               String
  fax_number                          String
  mailling_address                    String?
  sales_tax_license                   String
  store_alias                         String?
  store_id                            String
  store_license_number                String
  is_Mailing_Address_Same_As_Physical Boolean                  @default(false)
  appointment_reminder_time_id        Int?
  task_reminder_time_id               Int?
  Address                             Address?
  Business_phone_numbers              Business_phone_numbers[]
  Marketing_cost                      Marketing_cost[]
  Monthly_goals                       Monthly_goals[]
  charges_back                        charges_back[]
  salesGoalsConfig                    SalesGoalsConfig?
}

model Business_websites {
  id      Int    @id @default(autoincrement())
  website String
}

model Business_vehicle_detail_page_url {
  id  Int    @id @default(autoincrement())
  url String
}

model Business_primary_website_url {
  id  Int    @id @default(autoincrement())
  url String
}

model Country_phone_code {
  id      Int       @id @default(autoincrement())
  country String
  code    String
  clients Clients[] @relation("country_phone_code")
}

model Notifications_preferences {
  id            Int           @id @default(autoincrement())
  event_type_id Int?          @unique
  user_ids      Int[]         @default([])
  Events_types  Events_types? @relation(fields: [event_type_id], references: [id])
}

model Consent_code {
  id           Int      @id @default(autoincrement())
  customer_id  Int      @unique
  token        String   @unique
  code_expired DateTime
  customer     Clients  @relation("customer", fields: [customer_id], references: [id], onDelete: Cascade)
}

model Incidents {
  id       Int     @id @default(autoincrement())
  incident String
  section  String?
}

model Sms_template {
  id                                                                                  Int                   @id @default(autoincrement())
  name                                                                                String
  template                                                                            String
  category_id                                                                         Int
  created_by                                                                          Int
  creted_date                                                                         DateTime
  published                                                                           Boolean               @default(false)
  favorite                                                                            Boolean               @default(false)
  Automatic_sms_Automatic_sms_appointment_confirmation_template_idToSms_template      Automatic_sms[]       @relation("Automatic_sms_appointment_confirmation_template_idToSms_template")
  Automatic_sms_Automatic_sms_appointment_reminder_template_idToSms_template          Automatic_sms[]       @relation("Automatic_sms_appointment_reminder_template_idToSms_template")
  Automatic_sms_Automatic_sms_appointment_reschedule_onSite_template_idToSms_template Automatic_sms[]       @relation("Automatic_sms_appointment_reschedule_onSite_template_idToSms_template")
  Automatic_sms_Automatic_sms_appointment_reschedule_online_template_idToSms_template Automatic_sms[]       @relation("Automatic_sms_appointment_reschedule_online_template_idToSms_template")
  Automatic_sms_Automatic_sms_appointment_schedule_on_site_template_idToSms_template  Automatic_sms[]       @relation("Automatic_sms_appointment_schedule_on_site_template_idToSms_template")
  Automatic_sms_Automatic_sms_appointment_schedule_online_template_idToSms_template   Automatic_sms[]       @relation("Automatic_sms_appointment_schedule_online_template_idToSms_template")
  Automatic_sms_Automatic_sms_consent_sms_template_idToSms_template                   Automatic_sms[]       @relation("Automatic_sms_consent_sms_template_idToSms_template")
  Automatic_sms_Automatic_sms_credit_app_template_idToSms_template                    Automatic_sms[]       @relation("Automatic_sms_credit_app_template_idToSms_template")
  Automatic_sms_Automatic_sms_stipulation_request_template_idToSms_template           Automatic_sms[]       @relation("Automatic_sms_stipulation_request_template_idToSms_template")
  category                                                                            Sms_template_category @relation(fields: [category_id], references: [id], onDelete: Cascade)
  user                                                                                Users                 @relation("user", fields: [created_by], references: [id], onDelete: Cascade)
}

model Header_email_template {
  id             Int              @id @default(autoincrement())
  header         String
  name           String
  email_template Email_template[]
  letterhead     Letterhead[]
}

model Footer_email_template {
  id             Int              @id @default(autoincrement())
  footer         String
  name           String
  email_template Email_template[]
  letterhead     Letterhead[]
}

model Letterhead {
  id        Int                    @id @default(autoincrement())
  header_id Int?
  footer_id Int?
  footer    Footer_email_template? @relation(fields: [footer_id], references: [id])
  header    Header_email_template? @relation(fields: [header_id], references: [id])
}

model Email_template {
  id                                                                                           Int                    @id @default(autoincrement())
  name                                                                                         String
  category_id                                                                                  Int
  created_by                                                                                   Int
  created_at                                                                                   DateTime
  published                                                                                    Boolean                @default(true)
  header_id                                                                                    Int?
  body                                                                                         String
  footer_id                                                                                    Int?
  subject                                                                                      String?
  favorite                                                                                     Boolean                @default(false)
  Automatic_emails_Automatic_emails_appointment_confirmation_template_idToEmail_template       Automatic_emails[]     @relation("Automatic_emails_appointment_confirmation_template_idToEmail_template")
  Automatic_emails_Automatic_emails_appointment_reminder_template_idToEmail_template           Automatic_emails[]     @relation("Automatic_emails_appointment_reminder_template_idToEmail_template")
  Automatic_emails_Automatic_emails_appointment_reschedule_on_site_template_idToEmail_template Automatic_emails[]     @relation("Automatic_emails_appointment_reschedule_on_site_template_idToEmail_template")
  Automatic_emails_Automatic_emails_appointment_reschedule_online_template_idToEmail_template  Automatic_emails[]     @relation("Automatic_emails_appointment_reschedule_online_template_idToEmail_template")
  Automatic_emails_Automatic_emails_appointment_schedule_on_site_template_idToEmail_template   Automatic_emails[]     @relation("Automatic_emails_appointment_schedule_on_site_template_idToEmail_template")
  Automatic_emails_Automatic_emails_appointment_schedule_online_template_idToEmail_template    Automatic_emails[]     @relation("Automatic_emails_appointment_schedule_online_template_idToEmail_template")
  Automatic_emails_Automatic_emails_consent_sms_template_idToEmail_template                    Automatic_emails[]     @relation("Automatic_emails_consent_sms_template_idToEmail_template")
  Automatic_emails_Automatic_emails_deposit_payment_recipient_template_idToEmail_template      Automatic_emails[]     @relation("Automatic_emails_deposit_payment_recipient_template_idToEmail_template")
  Automatic_emails_Automatic_emails_internet_lead_auto_response_template_idToEmail_template    Automatic_emails[]     @relation("Automatic_emails_internet_lead_auto_response_template_idToEmail_template")
  Automatic_emails_Automatic_emails_sold_deals_thank_you_template_idToEmail_template           Automatic_emails[]     @relation("Automatic_emails_sold_deals_thank_you_template_idToEmail_template")
  Automatic_emails_Automatic_emails_stipulation_request_template_idToEmail_template            Automatic_emails[]     @relation("Automatic_emails_stipulation_request_template_idToEmail_template")
  Automatic_emails_Automatic_emails_vehicle_price_drop_template_idToEmail_template             Automatic_emails[]     @relation("Automatic_emails_vehicle_price_drop_template_idToEmail_template")
  category                                                                                     Sms_template_category  @relation(fields: [category_id], references: [id], onDelete: Cascade)
  user                                                                                         Users                  @relation("user", fields: [created_by], references: [id], onDelete: Cascade)
  footer                                                                                       Footer_email_template? @relation(fields: [footer_id], references: [id])
  header                                                                                       Header_email_template? @relation(fields: [header_id], references: [id])
}

model Customer_settings {
  id                                 Int                      @id @default(autoincrement())
  ignore_first_name                  Boolean                  @default(false)
  active_lost_customer               Boolean                  @default(false)
  show_followup                      Boolean                  @default(false)
  complete_all_open_tasks            Boolean                  @default(false)
  lead_lost_after                    Int
  set_active_lost_customer_status_to Int
  followup_task_visibility           Int
  task_visibility                    Followup_task_visibility @relation("visibility", fields: [followup_task_visibility], references: [id], onDelete: Cascade)
  customer_status                    Client_status            @relation("customer", fields: [set_active_lost_customer_status_to], references: [id], onDelete: Cascade)
}

model Followup_task_visibility {
  id                Int                 @id @default(autoincrement())
  followup          String
  customer_settings Customer_settings[] @relation("visibility")
}

model Email_forward_incoming_leads {
  id   Int    @id @default(autoincrement())
  lead String
}

model Email_to_lead {
  id   Int    @id @default(autoincrement())
  lead String
}

model Custom_be_back_reasons {
  id     Int    @id @default(autoincrement())
  reason String
}

model Custom_no_sale_reasons {
  id     Int    @id @default(autoincrement())
  reason String
}

model Custom_lost_reasons {
  id     Int    @id @default(autoincrement())
  reason String
}

model Tracking_code {
  id   Int    @id @default(autoincrement())
  code String
}

model Unknown_adf_elements {
  id      Int    @id @default(autoincrement())
  element String
}

model Automated_review {
  id                                  Int     @id @default(autoincrement())
  invitation                          String
  enable_automated_review_invitations Boolean @default(false)
}

model Detail_condition {
  id        Int            @id @default(autoincrement())
  condition String
  details   General_info[] @relation("condition")
}

model Inspection_status {
  id              Int                      @id @default(autoincrement())
  status          String
  inspection_data Inspection_status_data[] @relation("status")
}

model Inspection_status_data {
  id              Int               @id @default(autoincrement())
  status_id       Int
  date            DateTime
  id_of_status    String
  inspected_by    String
  vehicle_details General_info[]    @relation("inspection_status")
  status          Inspection_status @relation("status", fields: [status_id], references: [id], onDelete: Cascade)
}

model Emission_status {
  id            Int                    @id @default(autoincrement())
  status        String
  emission_data Emission_status_data[] @relation("status")
}

model Emission_status_data {
  id              Int             @id @default(autoincrement())
  status_id       Int
  date            DateTime
  status          Emission_status @relation("status", fields: [status_id], references: [id], onDelete: Cascade)
  vehicle_details General_info[]  @relation("emission_status")
}

model Sales_type_category {
  id           Int            @id @default(autoincrement())
  type         String
  general_info General_info[]
}

model General_info {
  id                   Int                     @id @default(autoincrement())
  sales_type_id        Int?
  stock_no             String
  date_in_stock        DateTime
  ready_to_shell       DateTime
  location             String
  condition_id         Int?
  inspection_status_id Int?
  emission_status_id   Int?
  condition            Detail_condition?       @relation("condition", fields: [condition_id], references: [id])
  emission             Emission_status_data?   @relation("emission_status", fields: [emission_status_id], references: [id])
  inspection           Inspection_status_data? @relation("inspection_status", fields: [inspection_status_id], references: [id])
  sales_category       Sales_type_category?    @relation(fields: [sales_type_id], references: [id])
  vehicle              Vehicles[]              @relation("general_info")
}

model Detail_source {
  id      Int                             @id @default(autoincrement())
  source  String
  details Vehicle_details_purchase_info[] @relation("source")
}

model Detail_acq_mill_type {
  id      Int                             @id @default(autoincrement())
  type    String
  details Vehicle_details_purchase_info[] @relation("acq_type")
}

model Vehicle_details_purchase_info {
  id               Int                  @id @default(autoincrement())
  buyer            String
  acq_mill_in      String
  acq_mill_type_id Int
  how_did_you_pay  String?
  purchase_date    DateTime
  purchase_detail  String?
  purchase_from    String?
  source_id        Int
  acq_type         Detail_acq_mill_type @relation("acq_type", fields: [acq_mill_type_id], references: [id], onDelete: Cascade)
  source           Detail_source        @relation("source", fields: [source_id], references: [id], onDelete: Cascade)
  vehicle          Vehicles[]           @relation("purchase_info")
}

model Title_status {
  id              Int                             @id @default(autoincrement())
  status          String
  vehicle_details Vehicle_details_title_license[] @relation("title_status")
}

model Title_brand {
  id              Int                             @id @default(autoincrement())
  brand           String
  vehicle_details Vehicle_details_title_license[] @relation("title_brand")
}

model Vehicle_details_title_license {
  id                       Int                      @id @default(autoincrement())
  title_owner              String?
  ros_title                String?
  title_state_id           Int?
  title_status_id          Int?
  title_brand_id           Int?
  license_no               String?
  license_state_id         Int?
  license_expiration       DateTime?
  additional               String?
  adversiting              String?
  asking_price             String
  bid_increment            String?
  buy_now_price            String?
  cost_adds                String?
  floor_price              String?
  min_deposit              String?
  min_down                 String?
  msrp                     String?
  packs                    String?
  special_price            String?
  start_bid                String?
  start_bid_2              String?
  vehicle_cost             String
  whole_price              String?
  special_price_end_date   DateTime?
  special_price_start_date DateTime?
  buyer_fee                String?
  lot_fee                  String?
  Client_vehicle_tradein   Client_vehicle_tradein[]
  license_state            Client_id_state?         @relation("license_state", fields: [license_state_id], references: [id])
  title_brand              Title_brand?             @relation("title_brand", fields: [title_brand_id], references: [id])
  title_state              Client_id_state?         @relation("title_state", fields: [title_state_id], references: [id])
  title_status             Title_status?            @relation("title_status", fields: [title_status_id], references: [id])
  vehicle                  Vehicles[]               @relation("title_license")
}

model Payment_method {
  id       Int                        @id @default(autoincrement())
  method   String
  key_info Vehicle_details_key_info[] @relation("payment_method")
}

model Vehicle_details_key_info {
  id                Int             @id @default(autoincrement())
  decal_no          String?
  ignition_code     String?
  door_key_code     String?
  valet_key_code    String?
  duplicate_key     Boolean         @default(false)
  lienholder        String?
  lien_account_no   String?
  payoff_amount     String?
  due_date          DateTime?
  date_paid_off     DateTime?
  payment_method_id Int?
  per_diem          String?
  memo              String?
  payment_method    Payment_method? @relation("payment_method", fields: [payment_method_id], references: [id])
  vehicle           Vehicles[]      @relation("key_info")
}

model Incoming_calls_options {
  id            Int             @id @default(autoincrement())
  option        String
  voice_and_sms Voice_and_sms[]
}

model Email_name_displayed {
  id            Int             @id @default(autoincrement())
  name          String
  voice_and_sms Voice_and_sms[]
}

model Sms_limit_warning_recipients {
  id        Int    @id @default(autoincrement())
  recipient String
}

model Voice_and_sms {
  id                                         Int                     @id @default(autoincrement())
  system_phone_for_publishing                String?
  system_email_address_for_publishing        String?
  email_verfified                            Boolean                 @default(false)
  forward_incoming_calls_to                  String?
  forward_incoming_calls_option_id           Int?
  dealership_phone_number                    Boolean                 @default(false)
  disable_auto_emails_to_customer            Boolean                 @default(false)
  disable_sending_auto_sms_over_montly_limit Boolean                 @default(false)
  for_buying_vehicles_from_customers         Boolean                 @default(false)
  in_spanish                                 Boolean                 @default(false)
  include_dealership_address                 Boolean                 @default(false)
  email_name_displayed_id                    Int
  email_name_displayed                       Email_name_displayed    @relation(fields: [email_name_displayed_id], references: [id], onDelete: Cascade)
  forward_incoming_calls_option              Incoming_calls_options? @relation(fields: [forward_incoming_calls_option_id], references: [id], onDelete: Cascade)
}

model Sms_template_category {
  id             Int              @id @default(autoincrement())
  category       String
  email_template Email_template[]
  sms_template   Sms_template[]
}

model Sms_template_variables_category {
  id                     Int                      @id @default(autoincrement())
  category               String
  sms_template_variables Sms_template_variables[]
}

model Sms_template_variables {
  id           Int                             @id @default(autoincrement())
  variable     String
  category_id  Int
  category     Sms_template_variables_category @relation(fields: [category_id], references: [id], onDelete: Cascade)
  variable_tag Sms_template_variables_tagged[]
}

model Sms_template_variables_tagged {
  id                       Int                    @id @default(autoincrement())
  sms_template_variable_id Int
  user_id                  Int
  sms_template_variable    Sms_template_variables @relation(fields: [sms_template_variable_id], references: [id], onDelete: Cascade)
  user                     Users                  @relation(fields: [user_id], references: [id], onDelete: Cascade)
}

model Deal {
  id                  Int           @id @default(autoincrement())
  sellerCommission    String
  bdcCommission       String
  customer_id         Int
  seller_id           Int?
  created_at          DateTime      @default(now())
  loan_id             String?
  lead_id             Int?          @unique
  bank_id             Int?
  downpayment         Decimal
  paid                Decimal
  bonus               Decimal
  moneyDuePaid        Decimal
  frontend            Decimal
  backend             Decimal
  totalProfit         Decimal
  deferredDownpayment Decimal
  Banks               Banks?        @relation(fields: [bank_id], references: [id])
  customer            Clients       @relation(fields: [customer_id], references: [id], onDelete: Cascade)
  Leads               Leads?        @relation(fields: [lead_id], references: [id], onDelete: Cascade)
  Users               Users?        @relation(fields: [seller_id], references: [id])
  DealReceipt         DealReceipt[]
  paymentDate         PaymentDate[]
}

model PaymentDate {
  id            Int             @id @default(autoincrement())
  date          DateTime
  dealId        Int
  amountPerDate AmountPerDate[]
  DealReceipt   DealReceipt[]
  Leads         Leads[]
  deal          Deal            @relation(fields: [dealId], references: [id], onDelete: Cascade)
}

model AmountPerDate {
  id            Int         @id @default(autoincrement())
  paid          Boolean     @default(false)
  paymentDateId Int
  amount        Decimal
  paymentDate   PaymentDate @relation(fields: [paymentDateId], references: [id], onDelete: Cascade)
  Leads         Leads[]
}

model Vehicle_delivery {
  id            Int       @id @default(autoincrement())
  customer_id   Int
  created_by    Int
  assigned_to   Int
  vehicle_id    Int
  start_date    DateTime
  end_date      DateTime?
  reminder_time Int
  Leads         Leads[]
  assigned      Users     @relation("assigned", fields: [assigned_to], references: [id], onDelete: Cascade)
  creator       Users     @relation("creator", fields: [created_by], references: [id], onDelete: Cascade)
  customer      Clients   @relation(fields: [customer_id], references: [id], onDelete: Cascade)
  vehicle       Vehicles  @relation(fields: [vehicle_id], references: [id], onDelete: Cascade)
}

model Credit_app_reference_relationship {
  id                   Int                    @id @default(autoincrement())
  relationship         String
  credit_app_reference Credit_app_reference[]
}

model Credit_app_other_income {
  id            Int     @id @default(autoincrement())
  income_amount String
  income_source String
  customer_id   Int
  customer      Clients @relation(fields: [customer_id], references: [id], onDelete: Cascade)
}

model Credit_app_reference {
  id              Int                               @id @default(autoincrement())
  name            String
  phone_number    String
  relationship_id Int
  address         String
  customer_id     Int
  credit_app_id   Int?                              @unique
  Credit_app      Credit_app?                       @relation(fields: [credit_app_id], references: [id])
  customer        Clients                           @relation(fields: [customer_id], references: [id], onDelete: Cascade)
  relationship    Credit_app_reference_relationship @relation(fields: [relationship_id], references: [id], onDelete: Cascade)
}

model Daily_visit_history {
  id                          Int                           @id @default(autoincrement())
  customer_id                 Int
  sales_rep_id                Int
  lead_type_id                Int?
  vehicle_id                  Int
  trade                       Boolean                       @default(false)
  assigned_manager_id         Int?
  location_id                 Int?
  decision_id                 Int
  managerTurnover             Boolean
  note_id                     Int?
  created_at                  DateTime                      @default(now())
  lead_id                     Int?
  assigned_manager            Users?                        @relation("daily_visit_history_assigned_manager", fields: [assigned_manager_id], references: [id])
  customer                    Clients                       @relation(fields: [customer_id], references: [id], onDelete: Cascade)
  decision                    Client_status                 @relation(fields: [decision_id], references: [id])
  Leads                       Leads?                        @relation(fields: [lead_id], references: [id])
  lead_type                   Lead_types?                   @relation(fields: [lead_type_id], references: [id], onDelete: Cascade)
  Notes                       Notes?                        @relation(fields: [note_id], references: [id])
  sales_rep                   Users                         @relation("daily_visit_history_sales_rep", fields: [sales_rep_id], references: [id], onDelete: Cascade)
  vehicle                     Vehicles                      @relation(fields: [vehicle_id], references: [id], onDelete: Cascade)
  Daily_visit_history_reasons Daily_visit_history_reasons[]
}

model Task_Notes {
  id            Int      @id @default(autoincrement())
  note          String
  created_by_id Int?
  created_at    DateTime
  task_id       Int
  user          Users?   @relation(fields: [created_by_id], references: [id], onDelete: Cascade)
  task          Tasks    @relation(fields: [task_id], references: [id], onDelete: Cascade)
}

model AppointmentSms {
  id  Int    @id @default(autoincrement())
  sms String
}

model ConfirmationSms {
  id  Int    @id @default(autoincrement())
  sms String
}

model Time_span {
  id          Int           @id @default(autoincrement())
  time_span   String
  round_robin Round_robin[]
}

model Round_robin {
  id                                    Int        @id @default(autoincrement())
  ready_for_leads                       Boolean    @default(false)
  automatic_reassign_leads              Boolean    @default(false)
  span_time_id                          Int?
  avoid_automatic_reassign_olders_leads Boolean    @default(false)
  days_until_avoid                      Int?
  assign_leads_during_store_hours       Boolean    @default(false)
  assign_leads_during_shift_hours       Boolean    @default(false)
  users_must_activate_ready_for_leads   Boolean    @default(false)
  create_task_after_assign_new_lead     Boolean    @default(false)
  span_time                             Time_span? @relation(fields: [span_time_id], references: [id])
}

model Awaiting_unknow_client {
  id                  Int             @id @default(autoincrement())
  mobile_phone_number String?         @unique
  email               String?         @unique
  user_id             Int?
  created_at          DateTime        @default(now())
  last_activity       DateTime?
  user                Users?          @relation(fields: [user_id], references: [id])
  notifications       Notifications[]
  conversations       conversations?
  sms                 Client_sms[]    @relation("Awaiting_unknow_clientToClient_sms")
}

model Conferences_names {
  id              Int     @id @default(autoincrement())
  conference_name String  @unique
  answered        Boolean @default(false)
}

model ReminderTime {
  id              Int               @id @default(autoincrement())
  time            String
  Appointments    Appointments[]
  Client_has_lead Client_has_lead[]
  Tasks           Tasks[]
}

model Automatic_emails {
  id                                                                                         Int             @id @default(autoincrement())
  internet_lead_auto_response                                                                Boolean         @default(false)
  appointment_reminder                                                                       Boolean         @default(false)
  appointment_reminder_days                                                                  String
  appointment_scheduled_on_site                                                              Boolean         @default(false)
  appointment_rescheduled_on_site                                                            Boolean         @default(false)
  appointment_scheduled_online                                                               Boolean         @default(false)
  appointment_rescheduled_online                                                             Boolean         @default(false)
  sold_deals_thank_you                                                                       Boolean         @default(false)
  sold_deals_thank_you_days                                                                  String
  vehicle_price_drop                                                                         Boolean         @default(false)
  customer_status_id                                                                         Int
  deposit_payment_receipt                                                                    Boolean         @default(false)
  deposit_payment_receipt_send_immediately_id                                                Int
  stipulation_request                                                                        Boolean         @default(false)
  appointment_reminder_template_id                                                           Int?
  appointment_reschedule_on_site_template_id                                                 Int?
  appointment_reschedule_online_template_id                                                  Int?
  appointment_schedule_on_site_template_id                                                   Int?
  appointment_schedule_online_template_id                                                    Int?
  deposit_payment_recipient_template_id                                                      Int?
  internet_lead_auto_response_template_id                                                    Int?
  sold_deals_thank_you_template_id                                                           Int?
  stipulation_request_template_id                                                            Int?
  vehicle_price_drop_template_id                                                             Int?
  appointment_confirmation                                                                   Boolean         @default(false)
  appointment_confirmation_template_id                                                       Int?
  consent_sms                                                                                Boolean         @default(false)
  consent_sms_template_id                                                                    Int?
  Email_template_Automatic_emails_appointment_confirmation_template_idToEmail_template       Email_template? @relation("Automatic_emails_appointment_confirmation_template_idToEmail_template", fields: [appointment_confirmation_template_id], references: [id])
  Email_template_Automatic_emails_appointment_reminder_template_idToEmail_template           Email_template? @relation("Automatic_emails_appointment_reminder_template_idToEmail_template", fields: [appointment_reminder_template_id], references: [id])
  Email_template_Automatic_emails_appointment_reschedule_on_site_template_idToEmail_template Email_template? @relation("Automatic_emails_appointment_reschedule_on_site_template_idToEmail_template", fields: [appointment_reschedule_on_site_template_id], references: [id])
  Email_template_Automatic_emails_appointment_reschedule_online_template_idToEmail_template  Email_template? @relation("Automatic_emails_appointment_reschedule_online_template_idToEmail_template", fields: [appointment_reschedule_online_template_id], references: [id])
  Email_template_Automatic_emails_appointment_schedule_on_site_template_idToEmail_template   Email_template? @relation("Automatic_emails_appointment_schedule_on_site_template_idToEmail_template", fields: [appointment_schedule_on_site_template_id], references: [id])
  Email_template_Automatic_emails_appointment_schedule_online_template_idToEmail_template    Email_template? @relation("Automatic_emails_appointment_schedule_online_template_idToEmail_template", fields: [appointment_schedule_online_template_id], references: [id])
  Email_template_Automatic_emails_consent_sms_template_idToEmail_template                    Email_template? @relation("Automatic_emails_consent_sms_template_idToEmail_template", fields: [consent_sms_template_id], references: [id])
  Client_status                                                                              Client_status   @relation(fields: [customer_status_id], references: [id], onDelete: Cascade)
  Payment_types                                                                              Payment_types   @relation(fields: [deposit_payment_receipt_send_immediately_id], references: [id], onDelete: Cascade)
  Email_template_Automatic_emails_deposit_payment_recipient_template_idToEmail_template      Email_template? @relation("Automatic_emails_deposit_payment_recipient_template_idToEmail_template", fields: [deposit_payment_recipient_template_id], references: [id])
  Email_template_Automatic_emails_internet_lead_auto_response_template_idToEmail_template    Email_template? @relation("Automatic_emails_internet_lead_auto_response_template_idToEmail_template", fields: [internet_lead_auto_response_template_id], references: [id])
  Email_template_Automatic_emails_sold_deals_thank_you_template_idToEmail_template           Email_template? @relation("Automatic_emails_sold_deals_thank_you_template_idToEmail_template", fields: [sold_deals_thank_you_template_id], references: [id])
  Email_template_Automatic_emails_stipulation_request_template_idToEmail_template            Email_template? @relation("Automatic_emails_stipulation_request_template_idToEmail_template", fields: [stipulation_request_template_id], references: [id])
  Email_template_Automatic_emails_vehicle_price_drop_template_idToEmail_template             Email_template? @relation("Automatic_emails_vehicle_price_drop_template_idToEmail_template", fields: [vehicle_price_drop_template_id], references: [id])
}

model Automatic_sms {
  id                                                                                 Int           @id @default(autoincrement())
  appointment_reminder                                                               Boolean       @default(false)
  appointment_reminder_timing                                                        String
  appointment_schedule_on_site                                                       Boolean       @default(false)
  appointment_schedule_online                                                        Boolean       @default(false)
  appointment_reschedule_onSite                                                      Boolean       @default(false)
  appointment_reschedule_online                                                      Boolean       @default(false)
  stipulation_request                                                                Boolean       @default(false)
  appointment_reminder_template_id                                                   Int?
  appointment_reschedule_onSite_template_id                                          Int?
  appointment_reschedule_online_template_id                                          Int?
  appointment_schedule_on_site_template_id                                           Int?
  appointment_schedule_online_template_id                                            Int?
  stipulation_request_template_id                                                    Int?
  consent_sms                                                                        Boolean       @default(false)
  consent_sms_template_id                                                            Int?
  credit_app                                                                         Boolean       @default(false)
  credit_app_template_id                                                             Int?
  appointment_confirmation                                                           Boolean       @default(false)
  appointment_confirmation_template_id                                               Int?
  Sms_template_Automatic_sms_appointment_confirmation_template_idToSms_template      Sms_template? @relation("Automatic_sms_appointment_confirmation_template_idToSms_template", fields: [appointment_confirmation_template_id], references: [id])
  Sms_template_Automatic_sms_appointment_reminder_template_idToSms_template          Sms_template? @relation("Automatic_sms_appointment_reminder_template_idToSms_template", fields: [appointment_reminder_template_id], references: [id])
  Sms_template_Automatic_sms_appointment_reschedule_onSite_template_idToSms_template Sms_template? @relation("Automatic_sms_appointment_reschedule_onSite_template_idToSms_template", fields: [appointment_reschedule_onSite_template_id], references: [id])
  Sms_template_Automatic_sms_appointment_reschedule_online_template_idToSms_template Sms_template? @relation("Automatic_sms_appointment_reschedule_online_template_idToSms_template", fields: [appointment_reschedule_online_template_id], references: [id])
  Sms_template_Automatic_sms_appointment_schedule_on_site_template_idToSms_template  Sms_template? @relation("Automatic_sms_appointment_schedule_on_site_template_idToSms_template", fields: [appointment_schedule_on_site_template_id], references: [id])
  Sms_template_Automatic_sms_appointment_schedule_online_template_idToSms_template   Sms_template? @relation("Automatic_sms_appointment_schedule_online_template_idToSms_template", fields: [appointment_schedule_online_template_id], references: [id])
  Sms_template_Automatic_sms_consent_sms_template_idToSms_template                   Sms_template? @relation("Automatic_sms_consent_sms_template_idToSms_template", fields: [consent_sms_template_id], references: [id])
  Sms_template_Automatic_sms_credit_app_template_idToSms_template                    Sms_template? @relation("Automatic_sms_credit_app_template_idToSms_template", fields: [credit_app_template_id], references: [id])
  Sms_template_Automatic_sms_stipulation_request_template_idToSms_template           Sms_template? @relation("Automatic_sms_stipulation_request_template_idToSms_template", fields: [stipulation_request_template_id], references: [id])
}

model Disable_select_values {
  id    Int    @id @default(autoincrement())
  value String
}

model Payment_types {
  id               Int                @id @default(autoincrement())
  type             String
  Automatic_emails Automatic_emails[]
}

model RescheduleSms {
  id  Int    @id @default(autoincrement())
  sms String
}

model System_accesses {
  id         Int       @id @default(autoincrement())
  user_id    Int
  entry_date DateTime
  exit_date  DateTime?
  Users      Users     @relation(fields: [user_id], references: [id], onDelete: Cascade)
}

model Customer_Report {
  id                                                      Int                           @id @default(autoincrement())
  name                                                    String
  owner_user_id                                           Int
  filters                                                 Json
  sort_config                                             Json
  advanced_filters                                        Json
  view_type                                               ListViewTypes
  created_at                                              DateTime                      @default(now())
  columns_config                                          Json?
  for_company                                             Boolean                       @default(false)
  Users_Customer_Report_owner_user_idToUsers              Users                         @relation("Customer_Report_owner_user_idToUsers", fields: [owner_user_id], references: [id], onDelete: Cascade)
  Users_Users_default_customer_report_idToCustomer_Report Users[]                       @relation("Users_default_customer_report_idToCustomer_Report")
  customer_report_permissions                             customer_report_permissions[]
  Users_user_favorite_customer_reports                    Users[]                       @relation("user_favorite_customer_reports")
}

model Credit_app_code {
  id           Int      @id @default(autoincrement())
  customer_id  Int      @unique
  token        String   @unique
  code_expired DateTime
  Clients      Clients  @relation(fields: [customer_id], references: [id], onDelete: Cascade)
}

model customer_report_permissions {
  customer_report_id Int
  user_id            Int
  Customer_Report    Customer_Report @relation(fields: [customer_report_id], references: [id], onDelete: Cascade)
  Users              Users           @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@id([customer_report_id, user_id])
}

model Events_types {
  id                        Int                        @id @default(autoincrement())
  type                      String
  category_id               Int?
  Event_category            Event_category?            @relation(fields: [category_id], references: [id])
  Notifications             Notifications[]
  Notifications_preferences Notifications_preferences?
}

model Consent_checks {
  id                             Int                              @id @default(autoincrement())
  description                    String
  required                       Boolean
  Terms_and_conditions_processed Terms_and_conditions_processed[]
}

model Consent_terms {
  id                Int    @id @default(autoincrement())
  consent_statement String
  checks            Int[]  @default([])
}

model Task_due_time_limit {
  id                                                                    Int             @id @default(autoincrement())
  span                                                                  String
  Task_settings_Task_settings_first_span_limit_idToTask_due_time_limit  Task_settings[] @relation("Task_settings_first_span_limit_idToTask_due_time_limit")
  Task_settings_Task_settings_second_span_limit_idToTask_due_time_limit Task_settings[] @relation("Task_settings_second_span_limit_idToTask_due_time_limit")
  Task_settings_Task_settings_third_span_limit_idToTask_due_time_limit  Task_settings[] @relation("Task_settings_third_span_limit_idToTask_due_time_limit")
}

model Task_settings {
  id                                                                          Int                  @id @default(autoincrement())
  first_span_limit_id                                                         Int?
  second_span_limit_id                                                        Int?
  third_span_limit_id                                                         Int?
  Task_due_time_limit_Task_settings_first_span_limit_idToTask_due_time_limit  Task_due_time_limit? @relation("Task_settings_first_span_limit_idToTask_due_time_limit", fields: [first_span_limit_id], references: [id])
  Task_due_time_limit_Task_settings_second_span_limit_idToTask_due_time_limit Task_due_time_limit? @relation("Task_settings_second_span_limit_idToTask_due_time_limit", fields: [second_span_limit_id], references: [id])
  Task_due_time_limit_Task_settings_third_span_limit_idToTask_due_time_limit  Task_due_time_limit? @relation("Task_settings_third_span_limit_idToTask_due_time_limit", fields: [third_span_limit_id], references: [id])
}

model Terms_and_conditions_processed {
  id                   Int             @id @default(autoincrement())
  description          String
  accepted             Boolean
  customer_id          Int
  term_or_condition_id Int?
  created_at           DateTime        @default(now())
  Clients              Clients         @relation(fields: [customer_id], references: [id], onDelete: Cascade)
  Consent_checks       Consent_checks? @relation(fields: [term_or_condition_id], references: [id])
}

model Pay_plan {
  id                      Int      @id @default(autoincrement())
  user_id                 Int      @unique
  pay_type                String
  front_gross             Decimal? @db.Decimal(10, 2)
  back_gross              Decimal? @db.Decimal(10, 2)
  of_cash_down            Decimal? @db.Decimal(10, 2)
  sales_person_id         String?
  exclude_reserve_or_flat Boolean? @default(false)
  Users                   Users    @relation(fields: [user_id], references: [id], onDelete: Cascade)
}

model Address {
  id           Int      @id @default(autoincrement())
  business_id  Int      @unique
  full_address String
  street       String
  city         String
  state_id     Int
  zip          String?
  county       String?
  county_code  String?
  Business     Business @relation(fields: [business_id], references: [id])
  States       States   @relation(fields: [state_id], references: [id])
}

model SalesGoalsConfig {
  id                          Int      @id @default(autoincrement())
  business_id                 Int      @unique
  monthlySalesGoal            Int?     @map("monthly_sales_goal")
  dailySalesPointsTarget      Int?     @map("daily_sales_points_target")
  emailsSentNumber            Int?     @map("emails_sent_number")
  smssSentNumber              Int?     @map("smss_sent_number")
  callsMadeNumber             Int?     @map("calls_made_number")
  appointmentsCompletedNumber Int?     @map("appointments_completed_number")
  appointmentsMadeNumber      Int?     @map("appointments_made_number")
  soldCustomersNumber         Int?     @map("sold_customers_number")
  business                    Business @relation(fields: [business_id], references: [id], onDelete: Cascade)

  @@map("sales_goals_config")
}

model SellerActivityCounter {
  id                                Int   @id @default(autoincrement())
  sellerId                          Int   @unique
  smsSentCurrentCount               Int   @default(0) @map("sms_sent_current_count")
  smsSentTotalCount                 Int   @default(0) @map("sms_sent_total_count")
  callsMadeCurrentCount             Int   @default(0) @map("calls_made_current_count")
  callsMadeTotalCount               Int   @default(0) @map("calls_made_total_count")
  emailsSentCurrentCount            Int   @default(0) @map("emails_sent_current_count")
  emailsSentTotalCount              Int   @default(0) @map("emails_sent_total_count")
  appointmentsCompletedCurrentCount Int   @default(0) @map("appointments_completed_current_count")
  appointmentsCompletedTotalCount   Int   @default(0) @map("appointments_completed_total_count")
  appointmentsMadeCurrentCount      Int   @default(0) @map("appointments_made_current_count")
  appointmentsMadeTotalCount        Int   @default(0) @map("appointments_made_total_count")
  soldCustomersCurrentCount         Int   @default(0) @map("sold_customers_current_count")
  soldCustomersTotalCount           Int   @default(0) @map("sold_customers_total_count")
  user                              Users @relation(fields: [sellerId], references: [id], onDelete: Cascade)

  @@map("seller_activity_counter")
}

model Sales_activity_log {
  id            Int          @id @default(autoincrement())
  user_id       Int
  activity_type ActivityType
  created_at    DateTime     @default(now())
  Users         Users        @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@index([created_at])
}

model Event_category {
  id           Int            @id @default(autoincrement())
  category     String
  Events_types Events_types[]
}

model Leads {
  id                                    Int                      @id @default(autoincrement())
  customer_id                           Int
  created_at                            DateTime                 @default(now())
  end_at                                DateTime?
  has_ended                             Boolean                  @default(false)
  sales_rep_id                          Int?
  bdc_id                                Int?
  finance_manager_id                    Int?
  sales_manager_id                      Int?
  appointment_id                        Int[]                    @default([])
  vehicle_id                            Int?
  task_id                               Int[]                    @default([])
  note_id                               Int[]                    @default([])
  customer_cobuyer_id                   Int?
  customer_status_id                    Int?
  customer_referrer_id                  Int?
  customer_credit_app_list_status_id    Int?
  lead_temperature_id                   Int?
  client_vehicle_wishlist_id            Int?
  client_vehicle_tradein_id             Int?
  paymentDate_id                        Int?
  amountPerDate_id                      Int?
  vehicle_delivery_id                   Int?
  deposit_id                            Int[]                    @default([])
  client_has_lead_id                    Int[]                    @default([])
  is_active                             Boolean                  @default(true)
  customer_funding_list_status_id       Int?
  funding_created_at                    DateTime?
  sold_created_at                       DateTime?
  customer_funding_returned_at          DateTime?
  isSplitSold                           Boolean                  @default(false)
  Daily_visit_history                   Daily_visit_history[]
  Deal                                  Deal?
  AmountPerDate                         AmountPerDate?           @relation(fields: [amountPerDate_id], references: [id])
  Users_Leads_bdc_idToUsers             Users?                   @relation("Leads_bdc_idToUsers", fields: [bdc_id], references: [id])
  Client_vehicle_tradein                Client_vehicle_tradein?  @relation(fields: [client_vehicle_tradein_id], references: [id])
  Client_vehicle_wishlist               Client_vehicle_wishlist? @relation(fields: [client_vehicle_wishlist_id], references: [id])
  Client_has_cobuyer                    Client_has_cobuyer?      @relation(fields: [customer_cobuyer_id], references: [id])
  Credit_app_list_status                Credit_app_list_status?  @relation(fields: [customer_credit_app_list_status_id], references: [id])
  Funding_list_status                   Funding_list_status?     @relation(fields: [customer_funding_list_status_id], references: [id])
  Clients                               Clients                  @relation(fields: [customer_id], references: [id], onDelete: Cascade)
  Clients_has_referrer                  Clients_has_referrer?    @relation(fields: [customer_referrer_id], references: [id])
  Client_status                         Client_status?           @relation(fields: [customer_status_id], references: [id])
  Users_Leads_finance_manager_idToUsers Users?                   @relation("Leads_finance_manager_idToUsers", fields: [finance_manager_id], references: [id])
  Lead_temperature                      Lead_temperature?        @relation(fields: [lead_temperature_id], references: [id])
  PaymentDate                           PaymentDate?             @relation(fields: [paymentDate_id], references: [id])
  Users_Leads_sales_manager_idToUsers   Users?                   @relation("Leads_sales_manager_idToUsers", fields: [sales_manager_id], references: [id])
  Users_Leads_sales_rep_idToUsers       Users?                   @relation("Leads_sales_rep_idToUsers", fields: [sales_rep_id], references: [id])
  Vehicle_delivery                      Vehicle_delivery?        @relation(fields: [vehicle_delivery_id], references: [id])
  Vehicles                              Vehicles?                @relation(fields: [vehicle_id], references: [id])
  Users_splitLeads                      Users[]                  @relation("splitLeads")
}

model Business_phone_numbers {
  id                   Int       @id @default(autoincrement())
  twilio_sid           String
  phone_number         String
  friendly_name        String
  business_id          Int?
  is_publishing_number Boolean   @default(false)
  Business             Business? @relation(fields: [business_id], references: [id])
}

model conversations {
  id                       Int                     @id @default(autoincrement())
  client_id                Int?                    @unique
  pending_reply_count      Int                     @default(0)
  last_message_from_client Boolean                 @default(false)
  last_message_date        DateTime                @default(now())
  unregistered_customer_id Int?                    @unique
  Clients                  Clients?                @relation(fields: [client_id], references: [id], onDelete: Cascade)
  Awaiting_unknow_client   Awaiting_unknow_client? @relation(fields: [unregistered_customer_id], references: [id], onDelete: Cascade)
}

model Client_Bulk_sms {
  id                Int       @id @default(autoincrement())
  message           String
  date_sent         DateTime  @default(now())
  created_at        DateTime  @default(now())
  completed_at      DateTime?
  sent_by_user_id   Int?
  total_recipients  Int
  successfully_sent Int
  failed_to_send    Int
  Users             Users?    @relation(fields: [sent_by_user_id], references: [id])
}

model Credit_app_navigation {
  id                     Int     @id @default(autoincrement())
  customer_id            Int     @unique
  nextToAddress          Boolean @default(false)
  nextToEmploymentStatus Boolean @default(false)
  nextToReferences       Boolean @default(false)
  Clients                Clients @relation(fields: [customer_id], references: [id], onDelete: Cascade)
}

model Funding_list_status {
  id      Int       @id @default(autoincrement())
  status  String
  Clients Clients[]
  Leads   Leads[]
}

model Users_has_customers {
  user_id     Int
  customer_id Int
  created_at  DateTime @default(now())
  id          Int      @id @default(autoincrement())
  Clients     Clients  @relation(fields: [customer_id], references: [id], onDelete: Cascade)
  Users       Users    @relation(fields: [user_id], references: [id], onDelete: Cascade)
}

model Daily_visit_history_reasons {
  id                  Int                 @id @default(autoincrement())
  reasons             String
  visitHistoryId      Int
  Daily_visit_history Daily_visit_history @relation(fields: [visitHistoryId], references: [id], onDelete: Cascade)
}

model Marketing_cost {
  id           Int          @id @default(autoincrement())
  amount       Decimal
  created_at   DateTime     @default(now())
  business_id  Int
  source_id    Int
  Business     Business     @relation(fields: [business_id], references: [id])
  Lead_sources Lead_sources @relation(fields: [source_id], references: [id])
}

model charges_back {
  id          Int      @id @default(autoincrement())
  description String
  amount      Decimal
  created_at  DateTime @default(now())
  business_id Int
  Business    Business @relation(fields: [business_id], references: [id])
}

model Banks {
  id   Int    @id @default(autoincrement())
  bank String
  Deal Deal[]
}

model Comission_bonus {
  id                Int            @id @default(autoincrement())
  amount            Decimal
  description       String
  comission_info_id Int
  Comission_info    Comission_info @relation(fields: [comission_info_id], references: [id])
}

model Comission_info {
  id               Int                @id @default(autoincrement())
  user_id          Int                @unique
  Comission_bonus  Comission_bonus[]
  Users            Users              @relation(fields: [user_id], references: [id])
  Comission_salary Comission_salary[]
  Comission_spiff  Comission_spiff[]
}

model Comission_salary {
  id                Int            @id @default(autoincrement())
  amount            Decimal
  description       String
  comission_info_id Int
  Comission_info    Comission_info @relation(fields: [comission_info_id], references: [id])
}

model Comission_spiff {
  id                Int            @id @default(autoincrement())
  amount            Decimal
  description       String
  comission_info_id Int
  Comission_info    Comission_info @relation(fields: [comission_info_id], references: [id])
}

model DealReceipt {
  id            Int          @id @default(autoincrement())
  receiptNumber String
  amount        Decimal
  date          DateTime     @default(now())
  dealId        Int
  paymentDateId Int?
  Deal          Deal         @relation(fields: [dealId], references: [id], onDelete: Cascade)
  PaymentDate   PaymentDate? @relation(fields: [paymentDateId], references: [id])
}

model Monthly_goals {
  id          Int      @id @default(autoincrement())
  sales_goal  Int
  date_month  DateTime
  created_at  DateTime @default(now())
  business_id Int
  user_id     Int
  Business    Business @relation(fields: [business_id], references: [id])
  Users       Users    @relation(fields: [user_id], references: [id])
}

model other_sales_log {
  id                 Int             @id @default(autoincrement())
  customerFirstName  String
  customerLastName   String
  customerMobile     String
  created_at         DateTime
  date               DateTime
  assigned_seller_id Int?
  vehicle_id         Int?            @unique
  Users              Users?          @relation(fields: [assigned_seller_id], references: [id])
  other_vehicles     other_vehicles? @relation(fields: [vehicle_id], references: [id])
}

model other_vehicles {
  id              Int              @id @default(autoincrement())
  make            String
  model           String
  year            String
  stock_no        String
  vin             String
  other_sales_log other_sales_log?
}

enum ListViewTypes {
  ListView
  DetailView
}

enum ActivityType {
  SMS_SENT
  EMAIL_SENT
  CALL_MADE
  APPOINTMENT_COMPLETED
  APPOINTMENT_MADE
  CUSTOMER_SOLD
}
